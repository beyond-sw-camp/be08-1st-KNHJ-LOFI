![git-image-001](https://github.com/beyond-sw-camp/be08-1st-2go-lofi/assets/82626246/f82e1b48-88e4-40af-882e-afc5e1465fd7)

<br><br>
# ğŸ” ìƒì–´ë²„ë¦° ë¬¼ê±´ì„ ì°¾ì•„ì„œ
ê¸°ê°„ : 2024.05.25 ~ 2024.06.03

<br>

## ğŸ“– í”„ë¡œì íŠ¸ ê°œìš”
ë„ì‹œí™”ê°€ ì§„í–‰ë¨ì— ë”°ë¼ ê±°ì£¼ ì¸êµ¬ê°€ ì¦ê°€í•˜ê³ , ëŒ€ì¤‘êµí†µ ì´ìš©ê° ë° ê´€ê´‘ê°ì˜ ì¦ê°€ë¡œ ìœ ë™ ì¸êµ¬ ë˜í•œ ì¦ê°€í•˜ê³  ìˆë‹¤. <br>
ì´ë¡œ ì¸í•´ ë¶„ì‹¤ë¬¼ ë°œìƒ ê°€ëŠ¥ì„±ì´ ì»¤ì§ì— ë”°ë¼ ê´€ë¦¬ì˜ ë³µì¡ì„±, íš¨ìœ¨ì  ê´€ë¦¬ì˜ í•„ìš”ì„±ì´ ë°œìƒí•˜ê³  ìˆë‹¤. <br>

ì´ëŸ¬í•œ ê²½ìš°ì— ì‚¬ìš©ìê°€ ìŠµë“ë¬¼ì„ ë“±ë¡í•˜ê³ , ë¶„ì‹¤ë¬¼ì„ ì‰½ê²Œ ì°¾ì„ ìˆ˜ ìˆëŠ” ì‹œìŠ¤í…œì´ë‹¤. <br>
í–‰ì •ë³µì§€ì„¼í„° ë¬´ì¸ íƒë°° ë³´ê´€í•¨ì„ ì¤‘ê³„ë¡œ ì‚¬ìš©í•˜ì—¬ ëŒ€ë©´ ë°©ì‹ì˜ ë¬¼í’ˆ ì°¾ì•„ì£¼ê¸°ì˜ ìœ„í—˜ì„±ì„ ë‚®ì¶”ê³  ì´ ì‹œìŠ¤í…œì„ í†µí•´ ë¶„ì‹¤ë¬¼ì˜ íšŒìˆ˜ìœ¨ì„ ë†’ì´ê³ ì í•œë‹¤. <br>
<br>

## ğŸ“Œ ì£¼ìš” ê¸°ëŠ¥
- [x] ë¶„ì‹¤ë¬¼, ìŠµë“ë¬¼ ë“±ë¡
- [x] ìœ ì‚¬ ë¬¼í’ˆ ì•Œë¦¼
- [x] ë§¤ì¹­ ì‹œìŠ¤í…œ
- [x] 1:1 ë¬¸ì˜ 

## âœ¨ í”„ë¡œì íŠ¸ ê¸°ëŒ€íš¨ê³¼
- í–‰ì •ë³µì§€ì„¼í„° ë¬´ì¸íƒë°°ë³´ê´€í•¨ì„ ì—°ê³„í•˜ì—¬ ì‚¬ìš©ìê°€ ë¶„ì‹¤ë¬¼ì„ ì°¾ì„ ê²½ìš° ë§Œì¡±ë„, ì ‘ê·¼ì„± í–¥ìƒ
- ì‹œìŠ¤í…œì„ í†µí•´ ë¶„ì‹¤ë¬¼ ì •ë³´ë¥¼ ì‰½ê²Œ ë“±ë¡í•˜ê³  ê²€ìƒ‰í•¨ìœ¼ë¡œì¨ ë¶„ì‹¤ë¬¼ íšŒìˆ˜ìœ¨ í–¥ìƒ
- ì „ì‚°í™”ë¥¼ í†µí•´ ê´€ë¦¬ìê°€ ì •í™•í•œ ì •ë³´ ì œê³µê³¼ ì‹ ì†í•œ ëŒ€ì‘ì„ í•¨ìœ¼ë¡œì¨ í¸ì˜ì„±, íš¨ìœ¨ì„± í–¥ìƒ
- ë¶„ì‹¤ë¬¼ì˜ ì‹ ì†í•œ íšŒìˆ˜ë¡œ ì¸í•œ ì‚¬íšŒì  ë¹„ìš© ê°ì†Œ

<br>

## ğŸ™‹â€â™€ï¸ íŒ€ì›
|**ê¹€ë‚˜í˜„**|**ê¹€ì¢…ì›**|**ì¥í˜„ì¤€**|**ì¡°ì€í¬**|
|:--:|:--:|:--:|:--:|
|![nh](https://github.com/beyond-sw-camp/be08-1st-2team/assets/50538268/03a3cef0-f0f9-43b3-a4e5-923ef03dcf94)|![jw](https://github.com/beyond-sw-camp/be08-1st-2team/assets/50538268/053be393-21bd-4ba1-8670-87cc03fd0efa)|![hj](https://github.com/beyond-sw-camp/be08-1st-2team/assets/50538268/87a81094-5896-409a-bd28-07286394ca15)|![eh](https://github.com/beyond-sw-camp/be08-1st-2team/assets/50538268/782bc8df-6407-42d3-9fdb-e27bcc909252)|

<br>

## â° WBS
[2ì¡° WBS ë°”ë¡œê°€ê¸°](https://docs.google.com/spreadsheets/d/1obRwcAQ55cM4DIk6DChcbbeFNfoHxEs7MsRrZOwzMGg/edit#gid=1981783699)

<br>

![image](https://github.com/beyond-sw-camp/be08-1st-2go-lofi/assets/82626246/eabbd088-78c5-48fd-9850-ec817c5a3e00)

<br><br>

## âœ ìš”êµ¬ì‚¬í•­ ì •ì˜ì„œ
[2ì¡° ìš”êµ¬ì‚¬í•­ ì •ì˜ì„œ ë°”ë¡œê°€ê¸°](https://docs.google.com/spreadsheets/d/1obRwcAQ55cM4DIk6DChcbbeFNfoHxEs7MsRrZOwzMGg/edit#gid=0)

<br>

![image](https://github.com/beyond-sw-camp/be08-1st-2go-lofi/assets/82626246/ceb81f56-b9ba-43f6-9bda-49826f43da6c)
<br><br>

## ğŸ“ ë°ì´í„° ë² ì´ìŠ¤ ì„¤ê³„
[2ì¡° ERD ë°”ë¡œê°€ê¸°](https://www.erdcloud.com/d/qpyT8r7NFLFYaGqGa)

<br>

![í”„ë¡œì íŠ¸](https://github.com/beyond-sw-camp/be08-1st-2go-lofi/assets/82626246/ca7661cf-49f5-471c-b697-b6e3bf80fea9)
<br><br>

## ğŸ—ƒ í…Œì´ë¸” ëª…ì„¸ì„œ
[2ì¡° í…Œì´ë¸” ëª…ì„¸ì„œ ë°”ë¡œê°€ê¸°](https://docs.google.com/spreadsheets/d/1obRwcAQ55cM4DIk6DChcbbeFNfoHxEs7MsRrZOwzMGg/edit#gid=598624480)

<br>

![image](https://github.com/beyond-sw-camp/be08-1st-2go-lofi/assets/82626246/d264c4e2-fff1-4bd0-a473-93bb2ba9ea92)

![image](https://github.com/beyond-sw-camp/be08-1st-2go-lofi/assets/82626246/fd8dd094-e8ab-42e7-aeef-ebe5dd8328e7)

![image](https://github.com/beyond-sw-camp/be08-1st-2go-lofi/assets/82626246/d6d383c4-6e21-4571-89b0-1712da14b9de)

![image](https://github.com/beyond-sw-camp/be08-1st-2go-lofi/assets/82626246/e0bc38a2-0da7-441e-9610-f11975e38ac3)

![image](https://github.com/beyond-sw-camp/be08-1st-2go-lofi/assets/82626246/a8e3a6c8-a0f8-40e9-adb9-03eed42a6993)

<br>


<br><br>

## âŒ¨ï¸ SQL

<details>
<summary>DCL</summary>

- **DB ì‚¬ìš©ì ê¶Œí•œ ë¶€ì—¬**
  <details>
  <summary>SQL</summary>
  
  ```sql
  GRANT ALL PRIVILEGES ON lostitems.* TO `items`@`%`;
  ```
  </details>
</details>

<details>
<summary>DDL</summary>

- **DB ìƒì„± ë° í…Œì´ë¸” ìƒì„±**
  <details>
  <summary>SQL</summary>
  
  ```sql
  CREATE DATABASE lostItems;
  CREATE USER `items`@`%` IDENTIFIED BY 'items';
  
  -- ì‚¬ìš©ì í…Œì´ë¸” (tb_user)
  CREATE TABLE tb_user (
      user_no VARCHAR(10),
      user_id VARCHAR(30) UNIQUE,
      user_pw VARCHAR(30) NOT NULL,
      user_mail VARCHAR(30) UNIQUE,
      user_tel VARCHAR(15) NOT NULL,
      user_addr VARCHAR(100) NOT NULL,
      role_no INT,
      ins_date DATE DEFAULT CURDATE(),
      upt_date DATE DEFAULT CURDATE(),
      PRIMARY KEY (user_no),
      FOREIGN KEY (role_no) REFERENCES tb_role(role_no)
  );
  
  -- ë¶„ì‹¤ë¬¼ í…Œì´ë¸”(tb_lost_item)
  CREATE TABLE tb_lost_item(
      l_item_no VARCHAR(10),
      l_item_name VARCHAR(100) NOT NULL,
      l_item_region VARCHAR(50) NOT NULL,
      l_item_time DATE DEFAULT CURDATE(),
      l_item_des VARCHAR(300),
      user_no VARCHAR(10) NOT NULL,
      category_no INT NOT NULL,
      region_no VARCHAR(10) NOT NULL,
      ins_date DATE DEFAULT CURDATE(),
      upt_date DATE DEFAULT CURDATE(),
      PRIMARY KEY (l_item_no),
      FOREIGN KEY (user_no) REFERENCES tb_user,
      FOREIGN KEY (category_no) REFERENCES tb_category,
      FOREIGN KEY (region_no) REFERENCES tb_region
  );
  
  -- ìŠµë“ë¬¼ í…Œì´ë¸”(tb_found_item)
  CREATE TABLE tb_found_item(
      f_item_no VARCHAR(10),
      f_item_name VARCHAR(100) NOT NULL,
      f_item_region VARCHAR(100) NOT NULL,
      f_item_time DATE DEFAULT CURDATE(),
      f_item_des VARCHAR(300),
      user_no VARCHAR(10) NOT NULL,
      category_no INT NOT NULL,
      region_no VARCHAR(10) NOT NULL,
      ins_date DATE DEFAULT CURDATE(),
      upt_date DATE DEFAULT CURDATE(),
      PRIMARY KEY(f_item_no),
      FOREIGN KEY(user_no) REFERENCES tb_user,
      FOREIGN KEY(category_no) REFERENCES tb_category,
      FOREIGN KEY(region_no) REFERENCES tb_region
  );
  
  -- ë§¤ì¹­ í…Œì´ë¸”(tb_match)
  CREATE TABLE tb_match (
      match_no VARCHAR(10),
      f_item_no VARCHAR(10) NOT NULL,
      l_item_no VARCHAR(10) NOT NULL,
      match_status BOOLEAN NOT NULL DEFAULT FALSE,
      match_date DATE DEFAULT CURDATE(),
      ins_date DATE DEFAULT CURDATE(),
      upt_date DATE DEFAULT CURDATE(),
      PRIMARY KEY(match_no),
      FOREIGN KEY(f_item_no) REFERENCES tb_found_item(f_item_no)
      DELETE ON CASCADE,
      FOREIGN KEY(l_item_no) REFERENCES tb_lost_item(l_item_no)
      DELETE ON CASCADE
  );
  
  -- ê²Œì‹œíŒ í…Œì´ë¸” (tb_board)
  CREATE TABLE tb_board (
      board_no VARCHAR(10) PRIMARY KEY,
      board_title VARCHAR(100) NOT NULL,
      board_detail VARCHAR(300) NOT NULL,
      board_type CHAR(1) NOT NULL CHECK (board_type IN ('b','r', 'n')),
      ins_date DATE DEFAULT CURDATE(),
      upt_date DATE DEFAULT CURDATE(),
      up_board_no VARCHAR(10),
      user_no VARCHAR(10) NOT NULL,
      FOREIGN KEY(user_no) REFERENCES tb_user
  );
  
  -- ì•Œë¦¼ í…Œì´ë¸” (tb_notification)
  CREATE TABLE tb_notification (
      noti_no VARCHAR(10),
      noti_date DATE DEFAULT CURDATE(),
      detail VARCHAR(300) NOT NULL,
      user_no VARCHAR(10) NOT NULL,
      match_no VARCHAR(10) NOT NULL,
      ins_date DATE DEFAULT CURDATE(),
      upt_date DATE DEFAULT CURDATE(),
      PRIMARY KEY (noti_no),
      FOREIGN KEY (user_no) REFERENCES tb_user(user_no),
      FOREIGN KEY (match_no) REFERENCES tb_match(match_no)
      DELETE ON CASCADE
  );
  
  -- ì§€ì—­ í…Œì´ë¸”(tb_region)
  CREATE TABLE tb_region (
      region_no VARCHAR(10) PRIMARY KEY,
      sido_name VARCHAR(10),
      sigg_name VARCHAR(10),
      emd_name VARCHAR(10),
      li_name VARCHAR(10),
      ranking VARCHAR(5),
      ins_date VARCHAR(10),
      del_date VARCHAR(10),
      prev_region_no VARCHAR(10)
  );
  
  -- tb_region ì¸ë±ìŠ¤ ì¶”ê°€
  CREATE INDEX idx_tb_region
  ON tb_region(sido_name, sigg_name, emd_name, li_name);
  
  -- ê¶Œí•œ í…Œì´ë¸”(tb_role)
  CREATE TABLE tb_role (
      role_no INT PRIMARY KEY,
      role_name VARCHAR(10) UNIQUE
  );
  
  -- ì¹´í…Œê³ ë¦¬ í…Œì´ë¸”(tb_category)
  CREATE TABLE tb_category (
      category_no INT PRIMARY KEY,
      category_name VARCHAR(20) NOT NULL
  );
  
  ```
  </details>
</details>

<br><br>

## ğŸ’¡ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤
[í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ë°”ë¡œê°€ê¸°](https://docs.google.com/spreadsheets/d/1obRwcAQ55cM4DIk6DChcbbeFNfoHxEs7MsRrZOwzMGg/edit#gid=1143330171)
<br><br>
![image](https://github.com/beyond-sw-camp/be08-1st-2go-lofi/assets/82626246/2d029ea0-d646-4d88-84c6-06116f11f84b)

<details><summary>DML
</summary>

- **í…ŒìŠ¤íŠ¸ ë¶„ë¥˜**
  <details><summary>1. ì‚¬ìš©ì
  </summary>

  - **ê°€ì…**
    <details><summary>SQL
    </summary>
    
    ```sql
    INSERT INTO tb_user
    VALUES ('ì‚¬ìš©ì ë²ˆí˜¸', 'ì‚¬ìš©ì ì´ë¦„', 'ì‚¬ìš©ì ì•„ì´ë””', 'ì‚¬ìš©ì ë¹„ë°€ë²ˆí˜¸', 'ì‚¬ìš©ì ì´ë©”ì¼', 'ì „í™”ë²ˆí˜¸', 'ì§€ì—­', ê¶Œí•œë²ˆí˜¸, DEFAULT, DEFAULT);
    ```
    </details>
  - **ë¡œê·¸ì¸**
    <details><summary>SQL
    </summary>
    
    ```sql
    SELECT `user_id`, `user_pw`
    FROM tb_user
    WHERE `user_id` = 'ì‚¬ìš©ì ì•„ì´ë””' AND `user_pw` = SHA2('ì‚¬ìš©ì ë¹„ë°€ë²ˆí˜¸', 256);
    ```
    </details>
  - **ì•„ì´ë”” ì°¾ê¸°**
    <details><summary>SQL
    </summary>
    
    ```sql
    SELECT `user_id`,
            `user_mail`
    FROM tb_user
    WHERE `user_mail` = 'ì‚¬ìš©ì ì´ë©”ì¼';
    ```
    </details>
  - **ë¹„ë°€ë²ˆí˜¸ ì°¾ê¸°/ë³€ê²½**
    <details><summary>ë¹„ë°€ë²ˆí˜¸ ì°¾ê¸°/ë³€ê²½
    </summary>
    
    ```sql
    UPDATE tb_user
    SET `user_pw` = SHA2('ë³€ê²½ í•  ë¹„ë°€ë²ˆí˜¸', 256)
    WHERE `user_pw` = (
    	SELECT `user_pw` 
    	FROM `tb_user`
    	WHERE `user_id` = 'ì‚¬ìš©ì ì•„ì´ë””' 
    	  AND `user_mail` = 'ì‚¬ìš©ì ì´ë©”ì¼'
    	  AND `user_tel` = 'ì‚¬ìš©ì ì „í™”ë²ˆí˜¸');
    ```
    </details>
  - **ì‚¬ìš©ì ì •ë³´ ì¡°íšŒ**
    <details><summary>SQL
    </summary>
    
    ```sql
    SELECT `user_name`, `user_mail`, `user_tel`, `user_addr`
    FROM tb_user
    WHERE `user_id` = 'ì‚¬ìš©ì ì•„ì´ë””' AND `user_pw` = SHA2('ì‚¬ìš©ì ë¹„ë°€ë²ˆí˜¸', 256);
    ```
    </details>
  - **ë¬¸ì˜**
    <details><summary>SQL
    </summary>
    
    ```sql
    INSERT INTO tb_board
    VALUES ('ë¬¸ì˜ ë²ˆí˜¸', 'ì œëª©', 'ë‚´ìš©',
     'b', DEFAULT, DEFAULT, NULL, 'ì‚¬ìš©ì ë²ˆí˜¸');
    ```
    </details>
  - **íƒˆí‡´**
    <details><summary>SQL
    </summary>
    
    ```sql
    DELETE
    FROM tb_user
    WHERE `user_id` = 'ì‚¬ìš©ì ì•„ì´ë””' 
      AND `user_pw` = SHA2('ì‚¬ìš©ì ë¹„ë°€ë²ˆí˜¸', 256)
      AND `user_email` = 'ì‚¬ìš©ì ì´ë©”ì¼';
    ```
    </details>
  </details>
  
  <details><summary>2. ê´€ë¦¬ì
  </summary>

  - **ë§¤ì¹­ ìƒíƒœ ë³€ê²½**
    <details><summary>SQL
    </summary>
    
    ```sql
    UPDATE tb_match
    SET match_status = 1
    WHERE match_no = 'ë§¤ì¹­ ë²ˆí˜¸'
      AND user_no = 'ì‚¬ìš©ì ë²ˆí˜¸';
    ```
    </details>
  - **ì¹´í…Œê³ ë¦¬ ì •ë³´ ë“±ë¡**
    <details><summary>SQL
    </summary>
    
    ```sql
    INSERT INTO tb_category
    VALUES (ì¹´í…Œê³ ë¦¬ ë²ˆí˜¸, 'ì¹´í…Œê³ ë¦¬ ì´ë¦„');
    ```
    </details>
  - **ê³µì§€ ì‚¬í•­ ë“±ë¡**
    <details><summary>SQL
    </summary>
    
    ```sql
    INSERT INTO tb_board
    VALUES (GET_NO(tb_board), 'ì œëª©', 'ë‚´ìš©',
     'n', DEFAULT, DEFAULT, NULL, 'ê´€ë¦¬ì ë²ˆí˜¸');
    ```
    </details>
  - **ê³µì§€ ì‚¬í•­ ì‚­ì œ**
    <details><summary>SQL
    </summary>
    
    ```sql
    DELETE
    FROM tb_board
    WHERE board_no = 'ê³µì§€ì‚¬í•­ ë²ˆí˜¸';
    ```
    </details>
  - **ê³µì§€ ì‚¬í•­ ìˆ˜ì •**
    <details><summary>SQL
    </summary>
    
    ```sql
    UPDATE tb_board
    SET 'ìˆ˜ì • í•  ì»¬ëŸ¼' = 'ìˆ˜ì • í•  ë‚´ìš©'
    WHERE board_no = 'ê³µì§€ì‚¬í•­ ë²ˆí˜¸';
    ```
    </details>
  - **ì§€ì—­ ì •ë³´ ë“±ë¡**
    <details><summary>SQL
    </summary>
    
    ```sql
    INSERT INTO tb_region
    VALUES ('ì§€ì—­ ë²ˆí˜¸', 'ì‹œ, ë„', 'ì‹œ, êµ¬', 'ë™, ë©´', 'ë¦¬', 'ranking', 'ë“±ë¡ ë‚ ì§œ');
    ```
    </details>
  - **ì§€ì—­ ì •ë³´ ì‚­ì œ**
    <details><summary>SQL
    </summary>
    
    ```sql
    DELETE
    FROM tb_region
    WHERE region_no = 'ì§€ì—­ ë²ˆí˜¸';
    ```
    </details>
  - **ì§€ì—­ ì •ë³´ ìˆ˜ì •**
    <details><summary>SQL
    </summary>
    
    ```sql
    UPDATE tb_region
    SET 'ìˆ˜ì • í•  ì»¬ëŸ¼' = 'ìˆ˜ì • í•  ë‚´ìš©'
    WHERE region_no = 'ì§€ì—­ ë²ˆí˜¸';
    ```
    </details>
  - **ë¬¸ì˜ê¸€ì— ëŒ€í•œ ë‹µë³€**
    <details><summary>SQL
    </summary>
    
    ```sql
    INSERT INTO tb_board
    VALUES ('ë¬¸ì˜ ë‹µë³€ ë²ˆí˜¸', 'ì œëª©', 'ë‚´ìš©',
     'r', DEFAULT, DEFAULT, 'ë¬¸ì˜ê¸€ ë²ˆí˜¸', 'ê´€ë¦¬ì ë²ˆí˜¸');
    ```
    </details>
  - **ë¶„ì‹¤ë¬¼ í†µê³„**
    <details><summary>SQL
    </summary>
    
    ```sql
    -- a : ë¶„ì‹¤ë¬¼ ë“±ë¡ëœ ê°¯ìˆ˜
    SELECT COUNT(*)
    FROM tb_lost_item;
    
    -- b : ë“±ë¡ëœ ë¶„ì‹¤ë¬¼ ì¤‘ ë§¤ì¹­ì´ ì„±ê³µëœ ê²ƒ
    SELECT COUNT(*)
    FROM tb_lost_item l
    LEFT OUTER JOIN tb_match m ON m.l_item_no = l.l_item_no
    WHERE m.match_status = TRUE;
    
    -- c : ë§¤ì¹­ì´ ì„±ê³µì´í›„ ì‚¬ìš©ì ì¸ê³„ê¹Œì§€ ì´ë£¨ì–´ì§„ ë¶„ì‹¤ë¬¼
    SELECT COUNT(*)
    FROM tb_recyclebin
    WHERE delete_tpye = 'MS';
    
    /*
     ë¶„ì‹¤ë¬¼ í†µê³„ = b + c / a + c
    */
    ```
    </details>
  </details>
  
  <details><summary>3. ë¶„ì‹¤ë¬¼
  </summary>
    
  - **ë¶„ì‹¤ë¬¼ ë“±ë¡**
    <details><summary>SQL
    </summary>
    
    ```sql
    INSERT INTO tb_lost_item 
    VALUES (GET_NO('ë¶„ì‹¤ë¬¼ ë²ˆí˜¸'), 'ë¶„ì‹¤ë¬¼ ì´ë¦„', ë¶„ì‹¤ ì¥ì†Œ', 'ë¶„ì‹¤ ì‹œê°„', 'ì„¤ëª…',
                ë¶„ì‹¤ë¬¼ ë“±ë¡ì¼ì', 'ë¶„ì‹¤ë¬¼ ìˆ˜ì •ì¼ì', 'ì‚¬ìš©ì ë²ˆí˜¸', 'ì¹´í…Œê³ ë¦¬ ë²ˆí˜¸', 'ì§€ì—­ ë²ˆí˜¸');
    ```
    </details>
  - **ë¶„ì‹¤ë¬¼ ê²€ìƒ‰**
    <details><summary>SQL
    </summary>
    
    ```sql
    SELECT lost.*
    FROM tb_lost_item lost
    INNER JOIN tb_region region ON lost.region_no = region.region_no
    INNER JOIN tb_category cate ON lost.category_no = cate.category_no
    WHERE lost.category_no = 'ì¹´í…Œê³ ë¦¬ ë²ˆí˜¸' 
    AND lost.category_no = cate.category_no
    AND lost.region_no = region.region_no;
    ```
    </details>
  - **ë¶„ì‹¤ë¬¼ ìˆ˜ì •**
    <details><summary>SQL
    </summary>
    
    ```sql
    UPDATE tb_lost_item
    INNER JOIN tb_user `user` ON lost.user_no = `user`.user_no
    SET l_item_name = 'ìˆ˜ì •í•  ìˆ˜ì§‘í’ˆ ì´ë¦„',
         l_item_region = 'ìˆ˜ì •í•  ìˆ˜ì§‘í’ˆ ì¥ì†Œ',
         l_item_des = 'ìˆ˜ì •í•  ìˆ˜ì§‘í’ˆ ì„¤ëª…'
    WHERE user_id = 'ì‚¬ìš©ì ì•„ì´ë””' AND l_item_no = 'ë¶„ì‹¤ë¬¼ ë²ˆí˜¸';
    ```
    </details>
  - **ë¶„ì‹¤ë¬¼ ì‚­ì œ**
    <details><summary>SQL
    </summary>
    
    ```sql
    DELETE
    FROM tb_lost_item
    WHERE l_item_no IN (
        SELECT li.l_item_no
        FROM tb_lost_item li
        LEFT OUTER JOIN tb_match m ON li.l_item_no = m.l_item_no
        WHERE m.match_status = 0
          AND li.l_item_no = 'ë¶„ì‹¤ë¬¼ ë²ˆí˜¸');
    ```
    </details>
  - **ë‚˜ì˜ ë¶„ì‹¤ë¬¼ ì¡°íšŒ**
    <details><summary>SQL
    </summary>
    
    ```sql
    SELECT lost.*
    FROM tb_lost_item lost
    INNER JOIN tb_user `user` ON lost.user_no = `user`.user_no
    WHERE `user`.user_id = 'ì‚¬ìš©ì ì•„ì´ë””'
    ORDER BY lost.ins_date DESC; 
    ```
    </details>
  </details>
  
  <details><summary>4. ìŠµë“ë¬¼
  </summary>

  - **ìŠµë“ë¬¼ ë“±ë¡**
    <details><summary>SQL
    </summary>
    
    ```sql
    INSERT INTO tb_lost_item
    VALUES ('ìŠµë“ë¬¼ ë²ˆí˜¸',
                'ìŠµë“ë¬¼ ì´ë¦„',
                'ìŠµë“ ì¥ì†Œ',
                'ìŠµë“ ì‹œê°„',
                'ì„¤ëª…',
                'ìŠµë“ë¬¼ ë“±ë¡ì¼ì',
                'ìŠµë“ë¬¼ ìˆ˜ì •ì¼ì',
                'ì‚¬ìš©ì ë²ˆí˜¸',
                'ì¹´í…Œê³ ë¦¬ ë²ˆí˜¸',
                'ì§€ì—­ ë²ˆí˜¸');
    ```
    </details>
  - **ìŠµë“ë¬¼ ì¡°íšŒ**
    <details><summary>SQL
    </summary>
    
    ```sql
    SELECT f.*
    FROM tb_found_item f
    INNER JOIN tb_category c ON f.category_no = c.category_no
    INNER JOIN tb_region r ON f.region_no = r.region_no
    WHERE category_name = 'ì¹´í…Œê³ ë¦¬ ì´ë¦„' OR sido_name = 'ì‹œë„ëª…';
    ```
    </details>
  - **ìŠµë“ë¬¼ ìˆ˜ì •**
    <details><summary>SQL
    </summary>
    
    ```sql
    UPDATE tb_found_item f
    INNER JOIN tb_user u ON f.user_no = u.user_no 
    SET f_item_name = 'ìˆ˜ì •í•  ìŠµë“ë¬¼ ì´ë¦„',
         f_item_region = 'ìˆ˜ì •í•  ìŠµë“ ì¥ì†Œ',
         f_item_des = 'ìˆ˜ì •í•  ìŠµë“ë¬¼ ìƒì„¸ì •ë³´ë‚´ìš©',
         ins_date = 'ìˆ˜ì •í•œ ë‚ ì§œ';
    ```
    </details>
  - **ìŠµë“ë¬¼ ì‚­ì œ**
    <details><summary>SQL
    </summary>
    
    ```sql
    DELETE
    FROM tb_found_item
    WHERE f_item_no IN (
        SELECT f.f_item_no
        FROM tb_fount_item f
        LEFT OUTER JOIN tb_match m ON f.f_item_no = m.f_item_no
        WHERE m.match_status = 0
          AND fi.f_item_no = 'ë¶„ì‹¤ë¬¼ ë²ˆí˜¸');
    ```
    </details>
  - **ë‚˜ì˜ ìŠµë“ë¬¼ ì¡°íšŒ**
    <details><summary>SQL
    </summary>
    
    ```sql
    SELECT f.*, user_id
    FROM tb_found_item f
    INNER JOIN tb_user u ON f.user_no = u.user_no
    WHERE user_id = 'ì‚¬ìš©ì ì•„ì´ë””';
    ```
    </details>
  </details>
  
  <details><summary>5. íŠ¸ë¦¬ê±°
  </summary>

  - **ë¶„ì‹¤ë¬¼ì´ ë“±ë¡ëœ ê²½ìš° ì•Œë¦¼ ì „ì†¡ íŠ¸ë¦¬ê±°**
    <details><summary>SQL
    </summary>
        
    ```sql
    DELIMITER $$
    CREATE OR REPLACE TRIGGER trg_match_loit
    AFTER INSERT ON tb_lost_item
    FOR EACH ROW
    BEGIN
        DECLARE f_cnt INT;
    
        SELECT COUNT(f_item_no) INTO f_cnt
        FROM tb_found_item
        WHERE region_no LIKE CONCAT(SUBSTRING(NEW.region_no, 1, 4), '%')
          AND category_no = NEW.category_no;
    
        IF f_cnt >= 1 THEN
            INSERT INTO tb_match (match_no, f_item_no, l_item_no)
            SELECT GET_NO('tb_match'),
                   f_item_no,
                   NEW.l_item_no
            FROM tb_found_item
            WHERE region_no LIKE CONCAT(SUBSTRING(NEW.region_no, 1, 4), '%')
              AND category_no = NEW.category_no;
        END IF;
    
    END$$
    DELIMITER ;
    ```
    </details>
  - **ìŠµë“ë¬¼ì´ ë“±ë¡ëœ ê²½ìš° ì•Œë¦¼ ì „ì†¡ íŠ¸ë¦¬ê±°**
    <details><summary>SQL
    </summary>
        
    ```sql
    DELIMITER $$
    CREATE OR REPLACE TRIGGER trg_match_fdit
    AFTER INSERT ON tb_found_item
    FOR EACH ROW
    BEGIN
        DECLARE l_cnt INT;
    
        SELECT COUNT(l_item_no) INTO l_cnt
        FROM tb_lost_item
        WHERE region_no LIKE CONCAT(SUBSTRING(NEW.region_no, 1, 4), '%')
          AND category_no = NEW.category_no;
    
        IF l_cnt >= 1 THEN
            INSERT INTO tb_match (match_no, f_item_no, l_item_no)
            SELECT GET_NO('tb_match'),
                   NEW.f_item_no,
                   l_item_no
            FROM tb_lost_item
            WHERE region_no LIKE CONCAT(SUBSTRING(NEW.region_no, 1, 4), '%')
              AND category_no = NEW.category_no;
        END IF;
    
    END$$
    DELIMITER ;
    ```
    </details>
  </details>
  
  <details><summary>6. í•¨ìˆ˜
  </summary>

  - **ê¸°ê°„ ë§Œë£Œ ë¬¼í’ˆ ì‚­ì œ ì´ë²¤íŠ¸**
    <details><summary>SQL
    </summary>
    
    ```sql
    BEGIN
    	DECLARE v_prefix VARCHAR(10);
     	DECLARE v_hypen CHAR(1);
     	DECLARE v_formmater INT;
    	DECLARE v_no VARCHAR(30);
    	
    	-- id ê·œì¹™ ê°€ì ¸ì˜¤ê¸°
    	SELECT PREFIX, hypen_yn, formmater 
    	INTO v_prefix, v_hypen, v_formmater
    	FROM auto_no
    	WHERE TABLE_NAME = tb_name;
    	
    	-- ê°€ì ¸ì˜¨ ê°’ìœ¼ë¡œ insert update
    	INSERT INTO auto_no_dtl
    	(TABLE_NAME, PREFIX, hypen_yn, formmater)
    	VALUES
    	(tb_name, v_prefix, v_hypen, v_formmater)
    	ON DUPLICATE KEY
    	UPDATE SEQUENCE = SEQUENCE + 1;
    	
    	SELECT CONCAT(PREFIX, if(hypen_yn = 'Y', '-', ''), LPAD(SEQUENCE, 8, '0')) INTO v_NO
    	FROM auto_no_dtl
    	WHERE TABLE_NAME = tb_name
    	  AND PREFIX = v_prefix
    	  AND hypen_yn = v_hypen
    	  AND formmater = v_formmater;
    
    	RETURN v_no;
    END
    ```
    </details>
  </details>
  
  <details><summary>7. í”„ë¡œì‹œì €
  </summary>

  - **180ì¼ ì§€ë‚œ ìŠµë“ë¬¼ ì‚­ì œ í”„ë¡œì‹œì €**
    <details><summary>SQL
    </summary>
    
    ```sql
    DELIMITER $$
    CREATE OR REPLACE PROCEDURE delFdProc ()
    BEGIN
          INSERT INTO tb_recyclebin(
          rb_no, delete_tpye, f_item_name, f_item_region, f_item_time, f_item_des, f_user_no, f_category_no, f_region_no
          ) SELECT
          GET_NO('tb_recyclebin') , 'PE', A.f_item_name, A.f_item_region, A.f_item_time, A.f_item_des, A.user_no, A.category_no, A.region_no
          FROM tb_found_item A
          LEFT OUTER JOIN
            (SELECT fi.l_item_no
             FROM tb_found_item fi
             LEFT OUTER JOIN tb_match m ON m.f_item_no = li.f_item_no
             WHERE 1=1
               AND m.match_status = TRUE ) B ON B.f_item_no = A.f_item_no
          WHERE 1=1
            AND A.ins_date <= subDATE(CURDATE(), 180)
            AND A.upt_date <= subDATE(CURDATE(), 180)
            AND B.f_item_no IS NULL;
    
          DELETE A FROM tb_found_item A
          LEFT JOIN (
              SELECT fi.l_item_no
              FROM tb_found_item fi
              LEFT JOIN tb_match m ON m.l_item_no = fi.l_item_no
              WHERE m.match_status = TRUE
          ) B ON B.f_item_no = A.f_item_no
          WHERE A.ins_date <= SUBDATE(CURDATE(), 180)
            AND A.upt_date <= SUBDATE(CURDATE(), 180)
            AND B.f_item_no IS NULL;
    END $$
    DELIMITER ;
    ```
    </details>
  - **180ì¼ ì§€ë‚œ ë¶„ì‹¤ë¬¼ ì‚­ì œ í”„ë¡œì‹œì €**
    <details><summary>SQL
    </summary>
    
    ```sql
    DELIMITER $$
    CREATE OR REPLACE PROCEDURE delLiProc ()
    BEGIN
          INSERT INTO tb_recyclebin(
          rb_no, delete_tpye, l_item_name, l_item_region, l_item_time, l_item_des, l_user_no, l_category_no, l_region_no
          ) SELECT
          GET_NO('tb_recyclebin') , 'PE', A.l_item_name, A.l_item_region, A.l_item_time, A.l_item_des, A.user_no, A.category_no, A.region_no
          FROM tb_lost_item A
          LEFT OUTER JOIN
            (SELECT li.l_item_no
             FROM tb_lost_item li
             LEFT OUTER JOIN tb_match m ON m.l_item_no = li.l_item_no
             WHERE 1=1
               AND m.match_status = TRUE ) B ON B.l_item_no = A.l_item_no
          WHERE 1=1
            AND A.ins_date <= subDATE(CURDATE(), 180)
            AND A.upt_date <= subDATE(CURDATE(), 180)
            AND B.l_item_no IS NULL;
    
          DELETE FROM tb_lost_item A, B
          LEFT OUTER JOIN
            (SELECT li.l_item_no
             FROM tb_lost_item li
             LEFT OUTER JOIN tb_match m ON m.l_item_no = li.l_item_no
             WHERE 1=1
               AND m.match_status = TRUE ) B ON B.l_item_no = A.l_item_no
          WHERE 1=1
            AND A.ins_date <= subDATE(CURDATE(), 180)
            AND A.upt_date <= subDATE(CURDATE(), 180)
            AND B.l_item_no IS NULL;
    END $$
    DELIMITER ;
    ```
    </details>
  </details>
  
  <details><summary>8. ì´ë²¤íŠ¸
  </summary>

  - **ê¸°ê°„ ë§Œë£Œ ë¬¼í’ˆ ì‚­ì œ ì´ë²¤íŠ¸**
    <details><summary>SQL
    </summary>
    
    ```sql
    CREATE OR REPLACE EVENT item_expiration
        ON SCHEDULE EVERY 1 DAY
        STARTS '2024-05-31 00:10:00'
        COMMENT 'ë§¤ì¼ 1íšŒ 0ì‹œ 10ë¶„ì— ì‹¤í–‰í•˜ëŠ” í”„ë¡œì‹œì €'
        DO
        BEGIN
          CALL delLiProc();
          CALL delFdProc();
        END$$
    DELIMITER ;
    ```
    </details>
  </details>
</details>

</details>

<br><br>

## ğŸ•¯ íšŒê³ 
| ì´ë¦„ | ë‚´ìš© |
| :----: | :----: |
| ê¹€ë‚˜í˜„ | ë‚´ìš© |
| ê¹€ì¢…ì› | ë‚´ìš© |
| ì¥í˜„ì¤€ | ë‚´ìš© |
| ì¡°ì€í¬ | ë‚´ìš© |
